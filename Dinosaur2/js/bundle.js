var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();!function(){function t(e,n,o){function a(i,s){if(!n[i]){if(!e[i]){var u="function"==typeof require&&require;if(!s&&u)return u(i,!0);if(r)return r(i,!0);var l=new Error("Cannot find module '"+i+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[i]={exports:{}};e[i][0].call(c.exports,function(t){var n=e[i][1][t];return a(n||t)},c,c.exports,t,e,n,o)}return n[i].exports}for(var r="function"==typeof require&&require,i=0;i<o.length;i++)a(o[i]);return a}return t}()({1:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.autoCreateAndBind=function(e){if(e.pkg&&e.res&&(e.component=fairygui.UIPackage.createObject(e.pkg,e.res).asCom,e.component.setSize(fairygui.GRoot.inst.width,fairygui.GRoot.inst.height),e.component.addRelation(fairygui.GRoot.inst,fairygui.RelationType.Size),e._uiBindConfig&&e._uiBindConfig.length>0))for(var n=0;n<e._uiBindConfig.length;n++){var o=e._uiBindConfig[n];switch(o.type){case a.Component:e[o.key]=e._getChild(o.nameInFGUI);break;case a.Controller:e[o.key]=e._getController(o.nameInFGUI);break;case a.Controller:e[o.key]=e._getTransition(o.nameInFGUI);break;case a.Compose:e[o.key]=new o.ctor["class"](o.ctor.args),t.autoBind(e[o.key],e._getChild(o.nameInFGUI))}}},t.autoBind=function(t,e){t.component=e;for(var n=0;n<t._uiBindConfig.length;n++){var o=t._uiBindConfig[n];switch(o.type){case a.Component:t[o.key]=t._getChild(o.nameInFGUI);break;case a.Controller:t[o.key]=t._getController(o.nameInFGUI);break;case a.Animation:t[o.key]=t._getTransition(o.nameInFGUI)}}},t.prototype.SetParent=function(t){t.addChild(this.component)},t.prototype._getChild=function(t){return this.component.getChild(t)},t.prototype._getController=function(t){return this.component.getController(t)},t.prototype._getTransition=function(t){return this.component.getTransition(t)},t}();n.BaseComposeItem=o;var a;!function(t){t[t.Component=0]="Component",t[t.Controller=1]="Controller",t[t.Animation=2]="Animation",t[t.Compose=3]="Compose"}(a=n.FGUI_TYPE||(n.FGUI_TYPE={}))},{}],2:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(t,e,n,o){var a,r=arguments.length,i=3>r?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(i=(3>r?a(i):r>3?a(e,n,i):a(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var r=t("./UI_Decorator"),i=t("./BaseComposeItem"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.Init=function(){this.versionText.text="test1111111",this.progressBar.value=90},a([r.fgui_item("progress_01")],e.prototype,"progressBar",void 0),a([r.fgui_item("versionText")],e.prototype,"versionText",void 0),e=a([r.fgui_pkg_res("LoadingUI","Main")],e)}(i.BaseComposeItem);n["default"]=s},{"./BaseComposeItem":1,"./UI_Decorator":3}],3:[function(t,e,n){"use strict";function o(t,e){return function(n){var o=function(n){function o(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];var r=n.apply(this,o)||this;r.pkg=t,r.res=e;var i=r;return l.BaseComposeItem.autoCreateAndBind(i),r}return u(o,n),o}(n);return o}}function a(t){return function(e,n){e._uiBindConfig=e._uiBindConfig||[],e._uiBindConfig.push({key:n,nameInFGUI:t,type:l.FGUI_TYPE.Component})}}function r(t){return function(e,n){e._uiBindConfig=e._uiBindConfig||[],e._uiBindConfig.push({key:n,nameInFGUI:t,type:l.FGUI_TYPE.Controller})}}function i(t){return function(e,n){e._uiBindConfig=e._uiBindConfig||[],e._uiBindConfig.push({key:n,nameInFGUI:t,type:l.FGUI_TYPE.Animation})}}function s(t,e){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];return function(o,a){o._uiBindConfig=o._uiBindConfig||[],o._uiBindConfig.push({key:a,nameInFGUI:t,type:l.FGUI_TYPE.Compose,ctor:{"class":e,args:n}})}}var u=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var l=t("./BaseComposeItem");n.fgui_pkg_res=o,n.fgui_item=a,n.fgui_controller=r,n.fgui_animation=i,n.fgui_compose=s},{"./BaseComposeItem":1}],4:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("./script/BattleScene"),a=t("./script/GameUI"),r=function(){function t(){}return t.init=function(){var t=Laya.ClassUtils.regClass;t("script/BattleScene.ts",o["default"]),t("script/GameUI.ts",a["default"])},t.width=750,t.height=1334,t.scaleMode="showall",t.screenMode="vertical",t.alignV="middle",t.alignH="center",t.startScene="View/BattleScene.scene",t.sceneRoot="",t.debug=!1,t.stat=!1,t.physicsDebug=!1,t.exportSceneToJson=!0,t}();n["default"]=r,r.init()},{"./script/BattleScene":7,"./script/GameUI":21}],5:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("./GameConfig"),a=function(){function t(){window.Laya3D?Laya3D.init(o["default"].width,o["default"].height):Laya.init(o["default"].width,o["default"].height,Laya.WebGL),Laya.Physics&&Laya.Physics.enable(),Laya.DebugPanel&&Laya.DebugPanel.enable(),Laya.stage.scaleMode=o["default"].scaleMode,Laya.stage.screenMode=o["default"].screenMode,Laya.URL.exportSceneToJson=o["default"].exportSceneToJson,(o["default"].debug||"true"==Laya.Utils.getQueryString("debug"))&&Laya.enableDebugPanel(),o["default"].physicsDebug&&Laya.PhysicsDebugDraw&&Laya.PhysicsDebugDraw.enable(),o["default"].stat&&Laya.Stat.show(),Laya.alertGlobalError=!0,Laya.ResourceVersion.enable("version.json",Laya.Handler.create(this,this.onVersionLoaded),Laya.ResourceVersion.FILENAME_VERSION)}return t.prototype.onVersionLoaded=function(){Laya.AtlasInfoManager.enable("fileconfig.json",Laya.Handler.create(this,this.onConfigLoaded))},t.prototype.onConfigLoaded=function(){console.log("===================准备加载场景"),o["default"].startScene&&Laya.Scene.open(o["default"].startScene)},t}();new a},{"./GameConfig":4}],6:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("../script/MathUril/Gam2DRectanglee"),a=function(){function t(){}return t.gameVersionString="1.0.0.1:0",t.localSvenAssets="res/svenAssets/",t.localSvenAssetsPreload="res/svenAssets/sven_preload/",t.localSven3DAssetsPreload="res/svenAssets/sven_3D_preload/",t.localSven3DAssetsPreload_Prefabs="res/svenAssets/sven_3D_preload/LayaPrefabs/",t.localRes="res/",t.localSvenLoad="res/SvenAssets/sven_load/",t.map2DRectanglee=new o["default"](new Laya.Point(-126,-100),new Laya.Point(127,-100),new Laya.Point(-126,70),new Laya.Point(127,70)),t}();n["default"]=a},{"../script/MathUril/Gam2DRectanglee":26}],7:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=t("./../ui/layaMaxUI"),r=t("../global/Global"),i=t("./Battle/Player"),s=t("./Battle/CameraFollow"),u=t("./Battle/ExplosionFX"),l=t("./Manager/Laya3DPrefabManager"),c=t("./Scene/GameMainScene"),p=t("./Battle/MeteoriteHole"),f=function(t){function e(){var e=t.call(this)||this;return e.motions=[],e.setSetting(),e.load3DPrefabTest(),e}return o(e,t),e.prototype.setSetting=function(){Laya.stage.alignH="middle",Laya.stage.alignV="center",Laya.stage.scaleMode=Laya.Stage.SCALE_SHOWALL,Laya.stage.screenMode="vertical"},e.prototype.load3DPrefabTest=function(){Laya.Scene3D.load(r["default"].localSven3DAssetsPreload_Prefabs+"HumanGroup/Conventional/HumanGroup.lh",Laya.Handler.create(this,function(t){this.load3DPrefabTestComplete(t)}))},e.prototype.load3DPrefabTestComplete=function(t){l["default"].Instance.humanGroup=t,this.loadDinosaur3DPrefab()},e.prototype.loadDinosaur3DPrefab=function(){var t=this;Laya.Sprite3D.load(r["default"].localSven3DAssetsPreload+"LayaScene_main/Conventional/Triceratops.lh",Laya.Handler.create(null,function(e){l["default"].Instance.dinosaurPrefab=e,t.LoadTest()}))},e.prototype.LoadTest=function(){var t=this,e=new Laya.Sprite3D;u.ExplosionFXPool.InitPrefab(e),p.MeteoritePool.InitPrefab(e),Laya.Scene3D.load(r["default"].localSven3DAssetsPreload+"LayaScene_env/Conventional/env.ls",Laya.Handler.create(null,function(n){Laya.stage.addChild(n),n.addChild(e),n.ambientColor=new Laya.Vector3(.8,.8,.8);var o=new Laya.DirectionLight;o.intensity=.8,o.transform.rotationEuler=new Laya.Vector3(-50,0,0),n.addChild(o);var a=new Laya.Camera;a.fieldOfView=60,a.farPlane=500,a.nearPlane=1,Laya.Sprite3D.load(r["default"].localSven3DAssetsPreload+"LayaScene_main/Conventional/Triceratops.lh",Laya.Handler.create(null,function(e){t.player=Laya.Sprite3D.instantiate(e),t.player.addComponent(i.Player),n.addChild(t.player);var o=a.addComponent(s.CameraFollow);o.Target=t.player.transform,n.addChild(a),new c["default"](n,t.player)})),Laya.timer.loop(3e3,null,function(){Laya.Resource.destroyUnusedResources()})}))},e}(a.ui.View.BattleSceneUI);n["default"]=f},{"../global/Global":6,"./../ui/layaMaxUI":49,"./Battle/CameraFollow":9,"./Battle/ExplosionFX":12,"./Battle/MeteoriteHole":14,"./Battle/Player":15,"./Manager/Laya3DPrefabManager":24,"./Scene/GameMainScene":27}],8:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.destroyTimer=2e3,e.timer=0,e}return o(e,t),e.prototype.onAwake=function(){this.trans=this.owner.transform,"Car"==this.owner.name?(this.fly=new Laya.Vector3(0,.4,0),this.rotation=new Laya.Vector3(.09*Math.random(),.2*Math.random(),.1*Math.random())):(this.fly=new Laya.Vector3(0,.2,0),this.rotation=new Laya.Vector3(.03*Math.random(),.1*Math.random(),.03*Math.random()))},e.prototype.onUpdate=function(){this.timer+=Laya.timer.delta,this.trans.translate(this.fly,!1),this.trans.rotate(this.rotation,!0,!0),this.timer>=this.destroyTimer&&this.owner.destroy(!0)},e}(Laya.Script3D);n.BuildingDestroy=a},{}],9:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../global/Global"),r=function(t){function e(){var e=t.call(this)||this;return e.offset=new Laya.Vector3,e.angle=0,e.newAngle=30,e.distance=0,e.newDistance=20,a["default"].cameraFollow=e,e}return o(e,t),Object.defineProperty(e.prototype,"Target",{set:function(t){this.target=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Distance",{get:function(){return this.distance},set:function(t){this.newDistance=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Angle",{get:function(){return this.angle},set:function(t){this.newAngle=t},enumerable:!0,configurable:!0}),e.prototype.ResetView=function(){this.newAngle=30,this.newDistance=20,Laya.Tween.to(this,{newDistance:30},500,null,null,1e3),Laya.Tween.to(this,{newAngle:60},500,null,null,1e3)},e.prototype.calc=function(){var t=new Laya.Vector3(0,0,1),e=new Laya.Quaternion;Laya.Quaternion.createFromAxisAngle(new Laya.Vector3(-1,0,0),Laya.Utils.toRadian(this.angle),e),Laya.Vector3.transformQuat(t,e,t),Laya.Vector3.normalize(t,t),Laya.Vector3.scale(t,this.distance,this.offset)},e.prototype.onAwake=function(){this.trans=this.owner.transform,this.ResetView()},e.prototype.onUpdate=function(){(this.distance!==this.newDistance||this.angle!=this.newAngle)&&(this.distance=this.newDistance,this.angle=this.newAngle,this.calc()),this.target&&(Laya.Vector3.add(this.target.position,this.offset,this.trans.position),this.trans.position=this.trans.position,this.trans.lookAt(this.target.position,new Laya.Vector3(0,1,0),!0))},e}(Laya.Script3D);n.CameraFollow=r},{"../../global/Global":6}],10:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=t("./BuildingDestroy"),r=t("./ExplosionFX"),i=t("./Player"),s=t("./HumanGroup3D"),u=t("./ExpCircle"),l=function(t){function e(){var e=t.call(this)||this;return e.m_stateName="Tric_Idle",e.m_readyDestroy=!1,e.m_speed=4,e.m_WalkRatio=-.015,e.m_RunRatio=-.025,e.m_currentState="run",e}return o(e,t),e.prototype.onAwake=function(){this.m_laya3D=this.owner,this.exp=this.owner.addComponent(u.ExpCircle),this.exp.Total=20,this.exp.Current=0,this.m_animator=this.owner.getComponent(Laya.Animator),this.m_cc=this.m_laya3D.addComponent(Laya.CharacterController);var t=new Laya.CapsuleColliderShape(1.5,4);t.localOffset=new Laya.Vector3(0,2,0),this.m_cc.colliderShape=t,this.m_cc.fallSpeed=0},e.prototype.onStart=function(){this.play("Tric_Run")},e.prototype.onUpdate=function(){if(!this.m_readyDestroy&&"run"==this.m_currentState){this.play("Tric_Run");var t=new Laya.Vector3;this.m_laya3D.transform.localPosition;this.m_laya3D.transform.getForward(t),Laya.Vector3.normalize(t,t),Laya.Vector3.scale(t,-1*Laya.timer.delta*.001*this.m_speed,t),this.m_cc.move(t)}},e.prototype.onCollisionEnter=function(t){var e=t.other;if(console.log("=====> Dinosaur3D    CollisionEnter",e.owner.name),e.owner.getComponent(s.HumanGroup3D)){var n=e.owner.getComponent(s.HumanGroup3D).element;if(null==n)return;n.destroy(),this.play("Tric_Attack");var o=this.m_laya3D.transform.localScale.x+.05;if(o>3)return;return this.m_laya3D.transform.localScale=new Laya.Vector3(o,o,o),this.m_speed+=.05,void this.exp.Current++}e.owner.getComponent(i.Player),this.element.randomAngle()},e.prototype.onTriggerEnter=function(t){if(console.log("=====> Dinosaur3D    onTriggerEnter",t.owner.name),t.owner.getComponent(s.HumanGroup3D)){var e=t.owner.getComponent(s.HumanGroup3D).element;if(null==e)return;e.destroy(),this.play("Tric_Attack");var n=this.m_laya3D.transform.localScale.x+.05;if(n>3)return;return this.m_laya3D.transform.localScale=new Laya.Vector3(n,n,n),this.m_speed+=.05,void this.exp.Current++}if("Hole"!=t.owner.name){null===t.owner.getComponent(a.BuildingDestroy)&&t.owner.addComponent(a.BuildingDestroy);var o=t.owner.transform.position;r.ExplosionFXPool.inst.CreateItem(o),r.ExplosionFXPool.inst.CreateItem(o),r.ExplosionFXPool.inst.CreateItem(o);var i=new Laya.Vector3;Laya.Vector3.subtract(this.m_laya3D.transform.position,o,i),Laya.Vector3.normalize(i,i),Laya.Vector3.scale(i,10,i),i.y=0,this.m_cc.jump(i)}},e.prototype.readyDestroy=function(){var t=this;1!=this.m_readyDestroy&&(this.m_readyDestroy=!0,this.play("Tric_Idle",0),Math.random()>.5?this.m_laya3D.transform.localRotationEulerX=85:this.m_laya3D.transform.localRotationEulerX=-85,Laya.timer.once(2e3,this,function(){t.m_laya3D.destroy()}))},e.prototype.play=function(t,e){if(void 0===t&&(t="Tric_Idle"),void 0===e&&(e=1),this.m_stateName!=t){this.m_stateName=t;var n=0;switch(t){case"Tric_Run":e=.5;break;case"Tric_Attack":e=1,n=.2,this.m_currentState="attack";break;default:e=1}var o=.3;Math.random()>.5&&(o=.1),this.m_animator.crossFade(t,o),this.m_animator.speed=e,n>0&&Laya.timer.once(1e3*n,this,this.playCall)}},e.prototype.playCall=function(){this.m_currentState="run"},e}(Laya.Script3D);n.Dinosaur3D=l},{"./BuildingDestroy":8,"./ExpCircle":11,"./ExplosionFX":12,"./HumanGroup3D":13,"./Player":15}],11:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=t("./material/ExpCircleMaterial"),r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.total=1,e.current=0,e}return o(e,t),Object.defineProperty(e.prototype,"Total",{set:function(t){this.total=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Current",{get:function(){return this.current},set:function(t){this.current=t,this.exp.Value=t/this.total},enumerable:!0,configurable:!0}),e.prototype.onAwake=function(){var t=this,e=this.exp=new a.ExpCircleMaterial;e.Color=new Laya.Vector3(1,0,0),e.MaxRadius=1,e.MinRadius=.8,e.Value=1;var n=this.expPlane=new Laya.MeshSprite3D(Laya.PrimitiveMesh.createQuad(5,5));n.name="exp",n.meshRenderer.material=e,Laya.timer.frameOnce(1,this,function(){t.owner.addChild(n),n.transform.localRotationEulerX=-90,n.transform.translate(new Laya.Vector3(0,0,.2))})},e.prototype.onLateUpdate=function(){this.expPlane.transform.rotationEuler=new Laya.Vector3(-90,0,0)},e}(Laya.Script3D);n.ExpCircle=r},{"./material/ExpCircleMaterial":16}],12:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../global/Global"),a=function(){function t(){this.duration=7e3,this.tick=0,this.mainFX=Laya.ShuriKenParticle3D.instantiate(t.prefab),this.mainFX.particleSystem.stop(),this.secondFX=this.mainFX.getChildAt(0),this.secondFX.particleSystem.stop()}return t.init=function(){this.prefab||Laya.ShuriKenParticle3D.load(o["default"].localSven3DAssetsPreload+"LayaScene_main/Conventional/FX_Explosion_Rubble.lh",Laya.Handler.create(null,function(e){t.prefab=e,e.transform.position=new Laya.Vector3(0,0,0)}))},Object.defineProperty(t.prototype,"Duration",{get:function(){return this.duration},enumerable:!0,configurable:!0}),t.prototype.SetParent=function(t){t?t.addChild(this.mainFX):this.mainFX.parent&&this.mainFX.parent.removeChild(this.mainFX)},t.prototype.SetPosition=function(t){this.mainFX.transform.position=t},t.prototype.Play=function(){this.tick=0,this.mainFX.particleSystem.play(),this.secondFX.particleSystem.play()},t.prototype.SetActive=function(t){this.mainFX.active=t},t.prototype.Tick=function(t){return this.tick+=t,this.tick>=this.duration},t}(),r=function(){function t(){this.fxs=[]}return Object.defineProperty(t,"inst",{get:function(){return t._inst||(t._inst=new t),t._inst},enumerable:!0,configurable:!0}),t.InitPrefab=function(e){t.node=e,a.init()},t.prototype.CreateItem=function(e){var n=Laya.Pool.getItemByClass("fx",a);n.SetActive(!0),n.SetParent(t.node),n.SetPosition(e),n.Play(),this.fxs.push(n),Laya.timer.frameLoop(1,this,this._tick)},t.prototype._tick=function(){for(var t=this.fxs.length-1;t>=0;t--){var e=this.fxs[t];e.Tick(Laya.timer.delta)&&(this.fxs.pop(),e.SetParent(null),e.SetActive(!1),Laya.Pool.recover("fx",e))}},t}();n.ExplosionFXPool=r},{"../../global/Global":6}],13:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../global/Global"),r=function(t){function e(){var e=t.call(this)||this;return e.m_animators=[],e.m_stateName="wait",e.m_readyDestroy=!1,e.m_WalkRatio=-.025,e.m_RunRatio=-.05,e}return o(e,t),e.prototype.onAwake=function(){this.m_laya3D=this.owner,this.m_Rigidbody3D=this.m_laya3D.getComponent(Laya.Rigidbody3D);for(var t=0;t<this.owner.numChildren;t++){var e=this.m_laya3D.getChildAt(t).getComponent(Laya.Animator);this.m_animators.push(e)}},e.prototype.onStart=function(){Math.random()>.7&&this.play("walk")},e.prototype.onUpdate=function(){if(!this.m_readyDestroy){var t=new Laya.Vector3,e=this.m_laya3D.transform.localPosition;if(this.m_laya3D.transform.getForward(t),"walk"==this.m_stateName)t=new Laya.Vector3(t.x*this.m_WalkRatio,t.y,t.z*this.m_WalkRatio);else{if("run"!=this.m_stateName)return;t=new Laya.Vector3(t.x*this.m_RunRatio,t.y,t.z*this.m_RunRatio)}var n=e.x+t.x,o=e.z+t.z,r=new Laya.Point(n,o),i=!a["default"].map2DRectanglee.IsPointInMatrix(r);0!=i&&(this.m_laya3D.transform.localPosition=new Laya.Vector3(e.x+t.x,e.y,e.z+t.z))}},e.prototype.OnCollisionEnter=function(t){console.log("=====>     CollisionEnter","HumanGroup3D")},e.prototype.onTriggerEnter=function(t){console.log("=====>     TriggerEnter","HumanGroup3D")},e.prototype.readyDestroy=function(){var t=this;if(1!=this.m_readyDestroy){this.m_readyDestroy=!0,this.play("wait");for(var e=0;e<this.m_laya3D.numChildren;e++){var n=this.m_laya3D.getChildAt(e);Math.random()>.5?n.transform.localRotationEulerX=85:n.transform.localRotationEulerX=-85}Laya.timer.once(2e3,this,function(){t.m_laya3D.destroy()})}},e.prototype.play=function(t){if(void 0===t&&(t="wait"),this.m_stateName!=t){this.m_stateName=t;var e=1;switch("wait"!=t&&(t="run"),t){case"walk":e=.5;break;case"run":e=2;break;default:e=1}for(var n=0;n<this.m_animators.length;n++){var o=this.m_animators[n],a=.3;Math.random()>.5&&(a=.1),o.crossFade(t,a),o.speed=1}}},e}(Laya.Script3D);n.HumanGroup3D=r},{"../../global/Global":6}],14:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../global/Global"),r=t("./ExplosionFX"),i=t("../Elements/MeteoriteElement"),s=t("./BuildingDestroy"),u=function(){function t(){this.flashTimer=0,this.flashDuration=.3,this.speed=30,this.node=Laya.Sprite3D.instantiate(t.MeteoritePrefab),this.meteor=this.node.getChildByName("Meteor"),this.warningArea=this.node.getChildByName("WarningArea"),this.radius=this.originRadius=this.warningArea.transform.scale.x/2,this.height=this.meteor.transform.localPositionY}return t.init=function(){t.MeteoritePrefab||Laya.Sprite3D.load(a["default"].localSven3DAssetsPreload+"LayaScene_main/Conventional/Meteorite.lh",Laya.Handler.create(null,function(e){t.MeteoritePrefab=e,e.transform.position=new Laya.Vector3(0,0,0)}))},t.prototype.SetParent=function(t){t?t.addChild(this.node):this.node.parent&&this.node.parent.removeChild(this.node)},Object.defineProperty(t.prototype,"Position",{get:function(){return this.node.transform.position},set:function(t){this.node.transform.position=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Radius",{set:function(t){this.radius=t;var e=t/this.originRadius,n=new Laya.Vector3(e,e,e);this.node.transform.scale=n,this.meteor.transform.localPositionY=this.height},enumerable:!0,configurable:!0}),t.prototype.Tick=function(t){return this.flashTimer+=t,this.warningArea.active=this.flashTimer<this.flashDuration,this.flashTimer>=2*this.flashDuration&&(this.flashTimer=0),this.meteor.transform.localPositionY-=this.speed*t,this.meteor.transform.localPositionY<=0},t}(),l=function(){function t(e,n,o){this.hole=Laya.Sprite3D.instantiate(t.HolePrefab),e.addChild(this.hole),this.hole.transform.position=n,t.offsetY+=.05,this.hole.transform.position.y+=t.offsetY,this.hole.transform.position=this.hole.transform.position,this.hole.addComponent(c);var a=o/8;this.hole.transform.scale=new Laya.Vector3(a,a,a)}return t.init=function(){t.HolePrefab||Laya.Sprite3D.load(a["default"].localSven3DAssetsPreload+"LayaScene_main/Conventional/Hole.lh",Laya.Handler.create(null,function(e){t.HolePrefab=e,e.transform.position=new Laya.Vector3(0,0,0)}))},t.offsetY=.4,t}(),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onLateUpdate=function(){this.destroy()},e.prototype.onTriggerEnter=function(t){this.Kill(t.owner)},e.prototype.onTriggerStay=function(t){this.Kill(t.owner)},e.prototype.onCollisionEnter=function(t){this.Kill(t.other.owner)},e.prototype.onCollisionStay=function(t){this.Kill(t.other.owner)},e.prototype.Kill=function(t){console.log(t.name),("Building_Lvl_3"==t.name||"Building_Lvl_4"==t.name||"Building_Lvl_1"==t.name||"Building_Lvl_2"==t.name||"Car"==t.name||"Building_Lvl_5"==t.name)&&null==t.getComponent(s.BuildingDestroy)&&t.addComponent(s.BuildingDestroy)},e}(Laya.Script3D),p=function(){function t(){this.meteorites=[]}return Object.defineProperty(t,"inst",{get:function(){return t._inst||(t._inst=new t),t._inst},enumerable:!0,configurable:!0}),t.InitPrefab=function(e){t.node=e,u.init(),l.init()},t.prototype.CreateItem=function(e,n){var o=Laya.Pool.getItemByClass("meteorite",u);o.SetParent(t.node),o.Position=e,this.meteorites.push(o),Laya.timer.frameLoop(1,this,this._tick)},t.prototype._tick=function(){for(var e=.001*Laya.timer.delta,n=this.meteorites.length-1;n>=0;n--){var o=this.meteorites[n];if(o.Tick(e)){this.meteorites.pop(),o.SetParent(null),r.ExplosionFXPool.inst.CreateItem(o.Position);new l(t.node,o.Position,o.radius);new i["default"](o.Position.x,o.Position.z,o.radius).startBlast()}}},t}();n.MeteoritePool=p},{"../../global/Global":6,"../Elements/MeteoriteElement":19,"./BuildingDestroy":8,"./ExplosionFX":12}],15:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../GameConfig"),r=t("./BuildingDestroy"),i=t("./ExplosionFX"),s=t("./HumanGroup3D"),u=t("../../global/Global"),l=t("./ExpCircle"),c=t("./MeteoriteHole"),p=function(t){function e(){var e=t.call(this)||this;return e.motions=[],e.speed=4,e.centerX=a["default"].width/2,e.centerY=a["default"].height-a["default"].height/5,e.dirX=0,e.dirY=1,e.startMove=!1,e.up=new Laya.Vector3(0,1,0),e}return o(e,t),e.prototype.onAwake=function(){var t=this;this.exp=this.owner.addComponent(l.ExpCircle),this.exp.Total=20,this.exp.Current=0,this.player=this.owner,this.animator=this.player.getComponent(Laya.Animator),this.animator.getControllerLayer(0)._states.forEach(function(e){t.motions.push(e.name)}),this.animator.play(this.motions[0]),Laya.stage.on(Laya.Event.MOUSE_DOWN,null,function(){t.startMove||t.animator.crossFade(t.motions[3],.1),t.startMove=!0,t.centerX=Laya.stage.mouseX,t.centerY=Laya.stage.mouseY}),Laya.stage.on(Laya.Event.MOUSE_MOVE,null,function(){var e=Laya.stage.mouseX-t.centerX,n=-Laya.stage.mouseY+t.centerY;t.dirX=e,t.dirY=n}),Laya.stage.on(Laya.Event.MOUSE_UP,null,function(){});var e=this.cc=this.owner.addComponent(Laya.CharacterController),n=new Laya.CapsuleColliderShape(1.5,4);n.localOffset=new Laya.Vector3(0,2,0),e.colliderShape=n,e.fallSpeed=0,Laya.timer.loop(1e4,this,function(){var e=t.player.transform.position;e.y+=.1,e.x+=9*(Math.random()-.5),e.z+=9*(Math.random()-.5),e.z-=9,c.MeteoritePool.inst.CreateItem(e,16+8*(Math.random()-.3))})},e.prototype.onUpdate=function(){if(this.startMove){var t=Laya.MathUtil.getRotation(0,0,this.dirX,this.dirY);this.player.transform.localRotationEulerY=t+90;var e=new Laya.Vector3(this.dirX,0,-this.dirY);Laya.Vector3.normalize(e,e),Laya.Vector3.scale(e,.001*Laya.timer.delta*this.speed,e),this.cc.move(e)}},e.prototype.onCollisionEnter=function(t){console.log("=============================")},e.prototype.onTriggerEnter=function(t){if(console.log("trigger",t),t.owner.getComponent(s.HumanGroup3D)){var e=t.owner.getComponent(s.HumanGroup3D).element;if(null==e)return;e.destroy();var n=this.player.transform.localScale.x+.05;if(n>3)return;return this.player.transform.localScale=new Laya.Vector3(n,n,n),u["default"].cameraFollow.Distance=u["default"].cameraFollow.Distance+=n/2,this.speed+=.05,void this.exp.Current++}null===t.owner.getComponent(r.BuildingDestroy)&&t.owner.addComponent(r.BuildingDestroy);var o=t.owner.transform.position;i.ExplosionFXPool.inst.CreateItem(o),i.ExplosionFXPool.inst.CreateItem(o),i.ExplosionFXPool.inst.CreateItem(o);var a=new Laya.Vector3;Laya.Vector3.subtract(this.player.transform.position,o,a),Laya.Vector3.normalize(a,a),Laya.Vector3.scale(a,10,a),a.y=0,this.cc.jump(a);t.owner},e}(Laya.Script3D);n.Player=p},{"../../GameConfig":4,"../../global/Global":6,"./BuildingDestroy":8,"./ExpCircle":11,"./ExplosionFX":12,"./HumanGroup3D":13,"./MeteoriteHole":14}],16:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var a="\nattribute vec4 a_Position;\nattribute vec2 a_Texcoord;\n \nuniform mat4 u_MvpMatrix;\n \nvarying vec2 v_Texcoord;\n\nvec4 remapGLPositionZ(vec4 position) {\n	position.z=position.z * 2.0 - position.w;\n	return position;\n}\n\nvoid main()\n{\n    gl_Position = u_MvpMatrix * a_Position;\n    v_Texcoord = a_Texcoord;\n    gl_Position=remapGLPositionZ(gl_Position); \n}\n",r="\n#ifdef FSHIGHPRECISION\n    precision highp float;\n#else\n    precision mediump float;\n#endif\n \nuniform vec3 u_Color;\nuniform float u_MaxRadius;\nuniform float u_MinRadius;\nuniform float u_Value;\n \nvarying vec2 v_Texcoord;\n \nvoid main()\n{\n    float Rote = (270.0 * 3.1415926)/180.0;\n    float sinNum = sin(Rote);\n    float cosNum = cos(Rote);\n    vec2 uv01 = vec2(1.0 - v_Texcoord.x, 1.0-v_Texcoord.y);\n    uv01 = uv01 - vec2(0.5,0.5);\n\n    float len = length(uv01);\n    if(len < 0.35){\n        if(len > 0.3){\n            gl_FragColor = vec4( u_Color.rgb,  1);\n        }else{\n            discard;\n        }\n        return;\n    }\n\n    uv01 = uv01 * mat2(cosNum,-sinNum,sinNum,cosNum) + vec2(0.5,0.5);\n    vec2 uv11 = uv01 * 2.0 - 1.0;\n    float angle = 1.0 - ceil(atan(uv11.g,uv11.r) - (6.4 * u_Value-3.2));\n \n    float uvR = dot(uv11,uv11);\n    float uv_final = (1.0-floor(uvR + (1.0-u_MaxRadius))) * floor(uvR + (1.0-u_MinRadius));\n \n    if(uv_final * angle < 0.5) discard;\n \n    gl_FragColor = vec4(min(angle+1.0,1.0) * u_Color.rgb,  1);\n}\n",i=function(t){function e(){var e=t.call(this)||this;return e.InitShader(),e.setShaderName("ExpCircleShader"),e}return o(e,t),Object.defineProperty(e.prototype,"MaxRadius",{set:function(t){this._shaderValues.setNumber(Laya.Shader3D.propertyNameToID("u_MaxRadius"),t);
},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"MinRadius",{set:function(t){this._shaderValues.setNumber(Laya.Shader3D.propertyNameToID("u_MinRadius"),t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Value",{set:function(t){this._shaderValues.setNumber(Laya.Shader3D.propertyNameToID("u_Value"),t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Color",{set:function(t){this._shaderValues.setVector3(Laya.Shader3D.propertyNameToID("u_Color"),t)},enumerable:!0,configurable:!0}),e.prototype.InitShader=function(){if(!e.inited){e.inited=!0;var t={a_Position:Laya.VertexMesh.MESH_POSITION0,a_Texcoord:Laya.VertexMesh.MESH_TEXTURECOORDINATE0},n={u_MvpMatrix:Laya.Shader3D.PERIOD_SPRITE,u_Color:Laya.Shader3D.PERIOD_MATERIAL,u_MaxRadius:Laya.Shader3D.PERIOD_MATERIAL,u_MinRadius:Laya.Shader3D.PERIOD_MATERIAL,u_Value:Laya.Shader3D.PERIOD_MATERIAL},o=Laya.Shader3D.add("ExpCircleShader"),i=new Laya.SubShader(t,n);i.addShaderPass(a,r),o.addSubShader(i)}},e.inited=!1,e}(Laya.BaseMaterial);n.ExpCircleMaterial=i},{}],17:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=t("./base/BaseElement"),r=t("../Manager/Laya3DPrefabManager"),i=t("../../global/Global"),s=t("../Battle/Dinosaur3D"),u=t("../Manager/DinosaurNpcElementManager"),l=function(t){function e(){var e=this,n=Laya.Sprite3D.instantiate(r["default"].Instance.dinosaurPrefab);return e=t.call(this,n)||this,e.init(),e}return o(e,t),e.prototype.init=function(){this.m_Dinosaur3D=this.m_laya3D.addComponent(s.Dinosaur3D),this.m_Dinosaur3D.element=this,u["default"].Instance.addElement(this),this.randomAngle()},e.prototype.randomAngle=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var n=Math.round(360*Math.random());if(0!=t&&0!=e){var o=new Laya.Point(t,e),a=this.getPoint,r=Math.atan2(o.y-a.y,a.x-o.x),i=r*(180/Math.PI);n=i+-90}this.m_laya3D.transform.localRotationEulerY=n},e.prototype.addParentContainer=function(t){void 0===t&&(t=i["default"].gameMainScene),t.addChild(this.m_laya3D)},e.prototype.setPoint=function(t,e){return this.m_laya3D.transform.position=new Laya.Vector3(t,this.m_laya3D.transform.position.y,e),this},Object.defineProperty(e.prototype,"getPoint",{get:function(){return new Laya.Point(this.m_laya3D.transform.position.x,this.m_laya3D.transform.position.z)},enumerable:!0,configurable:!0}),e.prototype.destroy=function(t){void 0===t&&(t=""),this.m_Dinosaur3D.readyDestroy(),u["default"].Instance.removeElement(this)},e.prototype.play=function(t){void 0===t&&(t="wait"),this.m_stateName=t,this.m_Dinosaur3D.play(t)},Object.defineProperty(e.prototype,"getStateName",{get:function(){return this.m_stateName},enumerable:!0,configurable:!0}),e}(a["default"]);n["default"]=l},{"../../global/Global":6,"../Battle/Dinosaur3D":10,"../Manager/DinosaurNpcElementManager":22,"../Manager/Laya3DPrefabManager":24,"./base/BaseElement":20}],18:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=t("./base/BaseElement"),r=t("../Manager/Laya3DPrefabManager"),i=t("../Battle/HumanGroup3D"),s=t("../../global/Global"),u=t("../Manager/HumanGroupElementManager"),l=function(t){function e(){var e=this,n=3*Math.random()+1;n=Math.floor(n);var o=Laya.Sprite3D.instantiate(r["default"].Instance.humanGroup.getChildByName("HumanGroup"+n.toFixed(0)));return e=t.call(this,o)||this,e.init(),e}return o(e,t),e.prototype.init=function(){this.m_HumanGroup3D=this.m_laya3D.addComponent(i.HumanGroup3D),this.m_HumanGroup3D.element=this,u["default"].Instance.addElement(this),this.randomAngle()},e.prototype.randomAngle=function(){var t=Math.round(360*Math.random());this.m_laya3D.transform.localRotationEulerY=t},e.prototype.addParentContainer=function(t){void 0===t&&(t=s["default"].gameMainScene),t.addChild(this.m_laya3D)},e.prototype.setPoint=function(t,e){return this.m_laya3D.transform.position=new Laya.Vector3(t,this.m_laya3D.transform.position.y,e),this},Object.defineProperty(e.prototype,"getPoint",{get:function(){return new Laya.Point(this.m_laya3D.transform.position.x,this.m_laya3D.transform.position.z)},enumerable:!0,configurable:!0}),e.prototype.destroy=function(t){void 0===t&&(t=""),this.m_HumanGroup3D.readyDestroy(),u["default"].Instance.removeElement(this)},e.prototype.play=function(t){void 0===t&&(t="wait"),this.m_stateName=t,this.m_HumanGroup3D.play(t)},Object.defineProperty(e.prototype,"getStateName",{get:function(){return this.m_stateName},enumerable:!0,configurable:!0}),e}(a["default"]);n["default"]=l},{"../../global/Global":6,"../Battle/HumanGroup3D":13,"../Manager/HumanGroupElementManager":23,"../Manager/Laya3DPrefabManager":24,"./base/BaseElement":20}],19:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=t("./base/BaseElement"),r=t("../Manager/MeteoriteManager"),i=t("../Manager/HumanGroupElementManager"),s=t("../Manager/DinosaurNpcElementManager"),u=function(t){function e(e,n,o){var a=t.call(this,null)||this;return a.m_point=new Laya.Point,a.m_point.x=e,a.m_point.y=n,a.m_range=o,a}return o(e,t),e.prototype.addElement=function(){r["default"].Instance.addElement(this)},e.prototype.isInternal=function(t){var e=this.m_point.distance(t.x,t.y),n=e<this.m_range;return n},e.prototype.startBlast=function(){this.addElement();for(var t=i["default"].Instance.getAllElementID,e=0;e<t.length;e++){var n=t[e],o=i["default"].Instance.getElement(n);if(o){var a=this.isInternal(o.getPoint);a&&o.destroy("meteorite")}}t=s["default"].Instance.getAllElementID;for(var e=0;e<t.length;e++){var n=t[e],o=s["default"].Instance.getElement(n);if(o){var a=this.isInternal(o.getPoint);a&&o.destroy("meteorite")}}},e.prototype.destroy=function(){r["default"].Instance.removeElement(this),this.m_point=void 0,this.m_range=void 0},e}(a["default"]);n["default"]=u},{"../Manager/DinosaurNpcElementManager":22,"../Manager/HumanGroupElementManager":23,"../Manager/MeteoriteManager":25,"./base/BaseElement":20}],20:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../SvenCode/SvenLibrary/SDK/Utils/HashObject"),r=function(t){function e(e){var n=t.call(this)||this;return n.m_laya3D=e,n.id=n.hashCode.toString(),n}return o(e,t),e.prototype.destroy=function(){},e}(a["default"]);n["default"]=r},{"../../SvenCode/SvenLibrary/SDK/Utils/HashObject":47}],21:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=t("./../ui/layaMaxUI"),r=t("./SvenCode/StartLoader"),i=t("../AutoBindUI/TestMenu"),s=function(t){function e(){var e=t.call(this)||this;return e.settingScale(),e.startUI(),e.init(),e}return o(e,t),e.prototype.settingScale=function(){laya.utils.Stat.show(0,0),Laya.stage.alignH="middle",Laya.stage.alignV="center"},e.prototype.startUI=function(){},e.prototype.init=function(){new r["default"](this.onLoaded).start()},e.prototype.onLoaded=function(){Laya.stage.addChild(fairygui.GRoot.inst.displayObject);var t=new i["default"];t.Init(),t.SetParent(fairygui.GRoot.inst)},e}(a.ui.View.StartSceneUI);n["default"]=s},{"../AutoBindUI/TestMenu":2,"./../ui/layaMaxUI":49,"./SvenCode/StartLoader":29}],22:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("../SvenCode/SvenLibrary/SDK/Tool/Dictionary"),a=function(){function t(){return this.m_elementDic=new o["default"],null!=t.m_instance?void console.error("This class is a single class !!!!!!!!!  new DinosaurNpcElementManager()  ?????"):(t.m_instance=this,void this.init())}return Object.defineProperty(t,"Instance",{get:function(){return null==t.m_instance&&(t.m_instance=new t),t.m_instance},enumerable:!0,configurable:!0}),t.prototype.init=function(){},t.prototype.addElement=function(t){this.m_elementDic.has(t.id)||this.m_elementDic.addStringKey(t.id,t)},t.prototype.removeElement=function(t){return 0==this.m_elementDic.has(t.id)?!1:(this.m_elementDic.remove(t.id),!0)},t.prototype.getElement=function(t){return 0==this.m_elementDic.has(t)?null:this.m_elementDic.getStringKey(t)},Object.defineProperty(t.prototype,"getAllElementID",{get:function(){return this.m_elementDic.keys},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"elementAllCount",{get:function(){return this.m_elementDic.count},enumerable:!0,configurable:!0}),t.prototype.setPlayerLocation=function(t,e,n){for(var o=this.m_elementDic.keys,a=0;a<o.length;a++){var r=this.m_elementDic.getNumberKey(o[a]),i=r.getPoint,s=i.distance(t,e);if(s>200)r.destroy();else if(30>n)r.randomAngle(t,e);else if(s>50){r.randomAngle(t,e);continue}}},t.m_instance=null,t}();n["default"]=a},{"../SvenCode/SvenLibrary/SDK/Tool/Dictionary":45}],23:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("../SvenCode/SvenLibrary/SDK/Tool/Dictionary"),a=function(){function t(){return this.m_elementDic=new o["default"],null!=t.m_instance?void console.error("This class is a single class !!!!!!!!!  new HumanGroupElementManager()  ?????"):(t.m_instance=this,void this.init())}return Object.defineProperty(t,"Instance",{get:function(){return null==t.m_instance&&(t.m_instance=new t),t.m_instance},enumerable:!0,configurable:!0}),t.prototype.init=function(){},t.prototype.addElement=function(t){this.m_elementDic.has(t.id)||this.m_elementDic.addStringKey(t.id,t)},t.prototype.removeElement=function(t){return 0==this.m_elementDic.has(t.id)?!1:(this.m_elementDic.remove(t.id),!0)},t.prototype.getElement=function(t){return 0==this.m_elementDic.has(t)?null:this.m_elementDic.getStringKey(t)},Object.defineProperty(t.prototype,"elementAllCount",{get:function(){return this.m_elementDic.count},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"getAllElementID",{get:function(){return this.m_elementDic.keys},enumerable:!0,configurable:!0}),t.prototype.setPlayerLocation=function(t,e){for(var n=this.m_elementDic.keys,o=0;o<n.length;o++){var a=this.m_elementDic.getNumberKey(n[o]),r=a.getPoint,i=r.distance(t,e);if(15>=i)a.play("run");else if(30>=i){if("run"!=a.getStateName)continue;Math.random()>.5?a.play("walk"):a.play("wait")}else i>200&&a.destroy()}},t.m_instance=null,t}();n["default"]=a},{"../SvenCode/SvenLibrary/SDK/Tool/Dictionary":45}],24:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){return null!=t.m_instance?void console.error("This class is a single class !!!!!!!!!  new Laya3DPrefabManager()  ?????"):(t.m_instance=this,void this.init())}return Object.defineProperty(t,"Instance",{get:function(){return null==t.m_instance&&(t.m_instance=new t),t.m_instance},enumerable:!0,configurable:!0}),t.prototype.init=function(){},t.m_instance=null,t}();n["default"]=o},{}],25:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("../SvenCode/SvenLibrary/SDK/Tool/Dictionary"),a=function(){function t(){return this.m_elementDic=new o["default"],null!=t.m_instance?void console.error("This class is a single class !!!!!!!!!  new MeteoriteManager()  ?????"):(t.m_instance=this,void this.init())}return Object.defineProperty(t,"Instance",{get:function(){return null==t.m_instance&&(t.m_instance=new t),t.m_instance},enumerable:!0,configurable:!0}),t.prototype.init=function(){},t.prototype.addElement=function(t){this.m_elementDic.has(t.id)||this.m_elementDic.addStringKey(t.id,t)},t.prototype.removeElement=function(t){return 0==this.m_elementDic.has(t.id)?!1:(this.m_elementDic.remove(t.id),!0)},t.m_instance=null,t}();n["default"]=a},{"../SvenCode/SvenLibrary/SDK/Tool/Dictionary":45}],26:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e,n,o){this.p1=t,this.p2=e,this.p3=n,this.p4=o,this.width=Math.abs(t.x-o.x),this.height=Math.abs(t.y-o.y)}return t.prototype.IsPointInMatrix=function(t){var e=this.isPointInMatrix(this.p1,this.p2,this.p3,this.p4,t);return e},t.prototype.isPointInMatrix=function(t,e,n,o,a){var r=!1;return(a.x<t.x||a.x>e.x||a.y<e.y||a.y>o.y)&&(r=!0),r},t}();n["default"]=o},{}],27:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../global/Global"),a=t("../Manager/HumanGroupElementManager"),r=t("../Elements/HumanGroupElement"),i=t("../Manager/DinosaurNpcElementManager"),s=t("../Elements/DinosaurNpcElement"),u=function(){function t(t,e){this.m_timer=6e5,this.dinosaurNpcAllCount=1,this.elementAllCount=360,this.randomRange=40,this.m_scene=t,this.m_player=e,o["default"].gameMainScene=t,this.init(),this.createHuman()}return t.prototype.init=function(){Laya.timer.loop(100,this,this.timerUpdete,null,!1)},t.prototype.createHuman=function(){},t.prototype.timerUpdete=function(){this.m_timer>0&&(this.m_timer-=100);var t=this.m_player.transform.position.x,e=this.m_player.transform.position.z;if(a["default"].Instance.setPlayerLocation(t,e),i["default"].Instance.setPlayerLocation(t,e,this.m_timer),a["default"].Instance.elementAllCount<this.elementAllCount){if(t=this.getRandomInt(-this.randomRange,this.randomRange)+t,e=this.getRandomInt(-this.randomRange,this.randomRange)+e,o["default"].map2DRectanglee.IsPointInMatrix(new Laya.Point(t,e)))return;(new r["default"]).setPoint(t,e).addParentContainer()}i["default"].Instance.elementAllCount<this.dinosaurNpcAllCount&&(t=this.getRandomInt(2*-this.randomRange,2*this.randomRange)+t,e=this.getRandomInt(2*-this.randomRange,2*this.randomRange)+e,(new s["default"]).setPoint(t,e).addParentContainer())},t.prototype.getRandomInt=function(t,e){var n=e-t,o=Math.random();return t+Math.round(o*n)},t}();n["default"]=u},{"../../global/Global":6,"../Elements/DinosaurNpcElement":17,"../Elements/HumanGroupElement":18,"../Manager/DinosaurNpcElementManager":22,"../Manager/HumanGroupElementManager":23}],28:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("../SvenLibrary/SDK/Tool/Dictionary"),a=function(){function t(){return this.currencySymbleVoDic=new o["default"],this.ScrollTipsConfigDic=new o["default"],this.LoadQueueConfig=new o["default"],this.pokerConfigDic=new o["default"],this.serviceSettingConfigDic=new o["default"],this.scrollListRunConfigDic=new o["default"],this.soundConfigDic=new o["default"],this.tipsConfigDic=new o["default"],this.gameTimeDic=new o["default"],this.WangSoundConfigVoDic=new o["default"],this.WangSoundTypeConfigVoDic=new o["default"],this.ScrollBarConfig=new o["default"],this.ScrollBarCheckerboardConfig=new o["default"],null!=t.m_instance?void console.error("This class is a single class !!!!!!!!!  new GameConfigManager()  ?????"):void(t.m_instance=this)}return Object.defineProperty(t,"Instance",{get:function(){return null==t.m_instance&&(t.m_instance=new t),t.m_instance},enumerable:!0,configurable:!0}),t.prototype.setConfigXMLData=function(t,e,n){},t.prototype.setConfigJSONData=function(t,e,n){},t.m_instance=null,t}();n["default"]=a},{"../SvenLibrary/SDK/Tool/Dictionary":45}],29:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../global/Global"),a=t("./SvenLibrary/SDK/TaskQueue/CallBack/ActionTaskQueueCallBack"),r=t("./SvenLibrary/SDK/LoaderAsset/LoadText"),i=t("../Vos/SvenAssetsVo"),s=t("./Manager/GameConfigManager"),u=t("./StartLoaders/StartLoaderGroup"),l=function(){function t(t){this.m_callback=t}return t.prototype.start=function(){var t=new r["default"](o["default"].localSvenAssets+"resJson.json","loaderJson",0);t.addCompleteCallBack(this,this.textLoaderCall),t.start()},t.prototype.textLoaderCall=function(t,e){e=JSON.parse(e),s["default"].Instance.SvenAssetsVo=(new i["default"]).readJson(e),new u["default"]("StartLoader","sven_preload").start(),new a["default"]("StartLoader",this.onLoaded,this).start()},t.prototype.onLoaded=function(){this.m_callback&&this.m_callback(),this.m_callback=null},t.prototype.onLoadedProgress=function(t){console.log("onLoadedProgress =================> ",t)},t}();n["default"]=l},{"../../global/Global":6,"../Vos/SvenAssetsVo":48,"./Manager/GameConfigManager":28,"./StartLoaders/StartLoaderGroup":30,"./SvenLibrary/SDK/LoaderAsset/LoadText":37,"./SvenLibrary/SDK/TaskQueue/CallBack/ActionTaskQueueCallBack":40}],30:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=laya.utils.Handler,a=t("../Manager/GameConfigManager"),r=t("../SvenLibrary/SDK/TaskQueue/ActionTaskQueue"),i=function(){function t(t,e){void 0===t&&(t="StartLoader"),void 0===e&&(e="sven_preload"),this.m_uiVos=[],this.m_laoderResDatas=[],this.m_groupName=e,this.m_actionTaskQueue=new r["default"](t).start()}return t.prototype.start=function(){for(var t=a["default"].Instance.SvenAssetsVo[this.m_groupName],e=0;e<t.keys.length;e++){var n=t.getStringKey(t.keys[e]);this.m_uiVos.push(n);for(var o=0;o<n.vos.length;o++){var r=n.vos[o],i=new Object;i.url=r.path,i.type=r.loaderType,this.m_laoderResDatas.push(i)}}this.loader()},t.prototype.loader=function(){Laya.loader.load(this.m_laoderResDatas,o.create(this,this.onComplete),o.create(this,this.onLoadedProgress,null,!1))},t.prototype.onComplete=function(){for(var t=0;t<this.m_uiVos.length;t++)this.m_uiVos[t].isLoading=!0,fairygui.UIPackage.addPackage(this.m_uiVos[t].fairGuiPackageKey);this.m_actionTaskQueue.Exit()},t.prototype.onLoadedProgress=function(t){console.log("StartLoaderGroup  Progress =================> ",t)},t}();n["default"]=i},{"../Manager/GameConfigManager":28,"../SvenLibrary/SDK/TaskQueue/ActionTaskQueue":38}],31:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=t("../Utils/HashObject"),r=function(t){function e(e,n,o){void 0===n&&(n=!1),void 0===o&&(o=!1);var a=t.call(this)||this;return a.m_type=e,a}return o(e,t),e.prototype.getType=function(){return this.m_type},Object.defineProperty(e.prototype,"target",{get:function(){return this.m_target},set:function(t){this.m_target=t},enumerable:!0,configurable:!0}),e.COMPLETE="COMPLETE",e}(a["default"]);n["default"]=r},{"../Utils/HashObject":47}],32:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=t("../Utils/HashObject"),r=function(t){function e(){var e=t.call(this)||this;return e.m_layaEventDispatcher=new Laya.EventDispatcher,e}return o(e,t),e.prototype.dispatchEvent=function(t){t.target=this,this.m_layaEventDispatcher.event(t.getType(),t)},e.prototype.addEventListener=function(t,e,n){this.m_layaEventDispatcher.once(t,n,e)},e.prototype.removeEventListener=function(t,e,n){this.m_layaEventDispatcher.off(t,n,e)},e}(a["default"]);n["default"]=r},{"../Utils/HashObject":47}],33:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=t("./HttpRequestBase"),r=function(t){function e(e,n,o,a){return void 0===a&&(a=null),t.call(this,e,n,o,a)||this}return o(e,t),e}(a["default"]);n["default"]=r},{"./HttpRequestBase":34}],34:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=t("../TaskQueue/ActionTaskQueue"),r=t("../Tool/Dictionary"),i=function(t){function e(e,n,o,a){void 0===a&&(a=null);var i=t.call(this,n,o)||this;return i.m_method="get",i.m_responseType="arraybuffer",i.m_headersDic=new r["default"],i.m_url=e,i.m_taskQueueID=n,i.m_hedaers=a,i}return o(e,t),e.prototype.addCompleteCallBack=function(t,e){this.m_callBackThis=t,this.m_completeCallBack=e},e.prototype.addErrorCallBack=function(t){this.m_errorCallBack=t},e.prototype.run=function(){this.m_httpRequest=new Laya.HttpRequest,this.m_headersDic.addStringKey("Content-Type","application/json; charset=utf-8"),this.m_headersDic.addStringKey("Access-Control-Allow-Origin","*"),this.m_responseType="arraybuffer",this.m_httpRequest.once(Laya.Event.COMPLETE,this,this.onRequestComplete),this.m_httpRequest.once(Laya.Event.ERROR,this,this.onRequestIOError),this.m_httpRequest.on(Laya.Event.PROGRESS,this,this.onRequestProgress),this.httpSend()},e.prototype.httpSend=function(){this.m_httpRequest.send(this.m_url,null,this.m_method,this.m_responseType)},e.prototype.onRequestComplete=function(t){this.m_completeCallBack(this.m_callBackThis,this.m_httpRequest),this.exit()},e.prototype.onRequestIOError=function(t){console.log("onRequestIOError ::  "+t+" ====> "+this.m_url+"  !!!!!!"),this.exit()},e.prototype.onRequestProgress=function(t){console.log("onRequestProgress ::  "+t+" ====> "+this.m_url+"  ~~~~~~")},e}(a["default"]);n["default"]=i},{"../TaskQueue/ActionTaskQueue":38,"../Tool/Dictionary":45}],35:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e,n,o){void 0===o&&(o=null),this.m_url=t,this.m_taskQueueID=e,this.m_queueRank=n,this.m_hedaers=o}return Object.defineProperty(t.prototype,"setLoaderType",{set:function(t){this.m_loaderType=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"getLoaderType",{get:function(){return this.m_loaderType},enumerable:!0,configurable:!0}),t.prototype.addCompleteCallBack=function(t,e){this.m_callBackThis=t,this.m_completeCallBack=e},t.prototype.start=function(){},t.prototype.execute=function(){},t.prototype.requesComplete=function(t,e){},t}();n["default"]=o},{}],36:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Tool/Helper"),r=t("./LoadAssetBase"),i=t("../../Http/HttpReques"),s=function(t){function e(e,n,o,a){return void 0===a&&(a=null),t.call(this,e,n,o,a)||this}return o(e,t),e.prototype.start=function(){t.prototype.start.call(this),1!=this.httpLoadExecute(!0)&&console.error("chece  ==========>  error  !!!!!")},e.prototype.execute=function(){t.prototype.execute.call(this),1!=this.httpLoadExecute(!1)&&console.error("chece  ==========>  error  !!!!!")},e.prototype.requesComplete=function(e,n){t.prototype.requesComplete.call(this,e,n),0==e.getLoaderType&&(e.m_loadData=a["default"].Bytes2String(new Uint8Array(n.data))),e.requesCompleteCallback()},e.prototype.requesCompleteCallback=function(){null!=this.m_completeCallBack&&this.m_completeCallBack.call(this.m_callBackThis,this.m_callBackThis,this.m_loadData)},e.prototype.httpLoadExecute=function(t){return void 0===t&&(t=!1),this.m_httpReques=new i["default"](this.m_url,this.m_taskQueueID,this.m_queueRank,this.m_hedaers),this.m_httpReques.addCompleteCallBack(this,this.requesComplete),1==t?this.m_httpReques.start():this.m_httpReques.execute(),!0},e}(r["default"]);n["default"]=s},{"../../Http/HttpReques":33,"../../Tool/Helper":46,"./LoadAssetBase":35}],37:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=t("./Base/LoadChache"),r=function(t){function e(e,n,o,a){void 0===a&&(a=null);var r=t.call(this,e,n,o,a)||this;return r.setLoaderType=0,r}return o(e,t),e.prototype.requesCompleteCallback=function(){t.prototype.requesCompleteCallback.call(this)},e}(a["default"]);n["default"]=r},{"./Base/LoadChache":36}],38:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=t("./TaskQueueBase"),r=t("./ActionTaskQueueManager"),i=function(t){function e(e,n){void 0===n&&(n=1);var o=t.call(this,n)||this;return o.m_id=e,o}return o(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.m_id},enumerable:!0,configurable:!0}),e.prototype.start=function(){return r["default"].Instance.addTaskQueue(this),this},e.prototype.stop=function(){},e}(a["default"]);n["default"]=i},{"./ActionTaskQueueManager":39,"./TaskQueueBase":41}],39:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("../Tool/Dictionary"),a=t("./TaskQueueSever"),r=function(){function t(){this.m_actionTaskQueueDic=new o["default"]}return t.prototype.addTaskQueue=function(t){""!=t.id&&"default"!=t.id&&(this.m_actionTaskQueueDic.has(t.id)||this.m_actionTaskQueueDic.add(t.id,new a["default"](t.id)),this.m_actionTaskQueueDic.getStringKey(t.id).addTaskQueue(t))},t.prototype.getLength=function(t){return this.m_actionTaskQueueDic.getStringKey(t.id).getLength},t.prototype.destroyTaskQueueSever=function(t){if(""!=t&&"default"!=t&&this.m_actionTaskQueueDic.has(t)){var e=this.m_actionTaskQueueDic.getStringKey(t);e.removeTaskQueueAll()}},t.Instance=new t,t}();n["default"]=r},{"../Tool/Dictionary":45,"./TaskQueueSever":44}],40:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=t("../ActionTaskQueue"),r=function(t){function e(e,n,o){void 0===o&&(o=null);var a=t.call(this,e)||this;return a.m_callBackThis=o,a.m_completeCallBack=n,a}return o(e,t),e.prototype.run=function(){this.exit(),this.m_completeCallBack.call(this.m_callBackThis,this.m_callBackThis)},e}(a["default"]);n["default"]=r},{"../ActionTaskQueue":38}],41:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=t("./TaskQueueManager"),r=t("./TaskQueueEvent"),i=t("../Event/SvenEventDispatcher"),s=function(t){function e(e){void 0===e&&(e=2);var n=t.call(this)||this;return n.m_queueRank=1,n.execute=function(){this.run()},n}return o(e,t),Object.defineProperty(e.prototype,"getQueueRank",{get:function(){return this.m_queueRank},enumerable:!0,configurable:!0}),e.prototype.start=function(){return a["default"].Instance.addTaskQueue(this),this},e.prototype.stop=function(){},e.prototype.Exit=function(){this.exit()},e.prototype.exit=function(){this.dispatchEvent(new r["default"](r["default"].TASK_QUEUE_COMPLETE))},e.prototype.run=function(){console.log(111)},e}(i["default"]);n["default"]=s},{"../Event/SvenEventDispatcher":32,"./TaskQueueEvent":42,"./TaskQueueManager":43}],42:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=t("../Event/SvenEvent"),r=function(t){function e(e,n,o){return void 0===n&&(n=!1),void 0===o&&(o=!1),t.call(this,e,n,o)||this}return o(e,t),e.TASK_QUEUE_COMPLETE="TASK_QUEUE_COMPLETE",e}(a["default"]);n["default"]=r},{"../Event/SvenEvent":31}],43:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("./TaskQueueSever"),a=function(){function t(){return null!=t.m_instance?void console.error("This class is a single class !!!!!!!!!  new TaskQueueManager()  ?????"):(t.m_instance=this,void(this.m_taskQueueSever=new o["default"]("MainTaskQueue")))}return Object.defineProperty(t,"Instance",{get:function(){return null==t.m_instance&&(t.m_instance=new t),t.m_instance},enumerable:!0,configurable:!0}),t.prototype.addTaskQueue=function(t){this.m_taskQueueSever.addTaskQueue(t)},t}();n["default"]=a},{"./TaskQueueSever":44}],44:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("./TaskQueueEvent"),a=function(){function t(t){void 0===t&&(t="default"),this.m_isRun=!1,this.m_taskList=[],this.m_queueID=t}return Object.defineProperty(t.prototype,"getLength",{get:function(){return this.m_taskList.length},enumerable:!0,configurable:!0}),t.prototype.addTaskQueue=function(t){return null==t?void console.log("TaskQueueSever.addTaskQueue   TaskQueueBase == null?   Invalid add !!"):-1!=this.m_taskList.indexOf(t)?void console.log("TaskQueueSever.addTaskQueue   indexOf (TaskQueueBase == -1)   Repeat add !!"):(t.addEventListener(o["default"].TASK_QUEUE_COMPLETE,this.complete,this),this.m_taskList.push(t),void(0==this.m_isRun&&this.execute()))},t.prototype.removeTaskQueue=function(t){var e=this.m_taskList.indexOf(t),n=e>-1;return n&&this.m_taskList.splice(e),n},t.prototype.removeTaskQueueAll=function(){
this.m_taskList.length=0},t.prototype.execute=function(){return 0==this.m_taskList.length?void(this.m_isRun=!1):(this.m_isRun=!0,this.m_taskQueueBase=this.m_taskList[0],this.m_taskList.splice(0,1),void this.m_taskQueueBase.execute())},t.prototype.complete=function(t){var e=t.target;return null==this.m_taskQueueBase||e!=this.m_taskQueueBase?(console.error("TaskQueueSeverBase.Complete   _taskQueueBase == null  queue break !!!"),void console.error("TaskQueue  Be destroyed !!!!!!!!!!")):(e.removeEventListener(o["default"].TASK_QUEUE_COMPLETE,this.complete,this),void this.execute())},t}();n["default"]=a},{"./TaskQueueEvent":42}],45:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t){this._count=0,this._maps={},this._hashMaps={},this._objKeys=[],this._objDatum=[],null!=t&&this.addList(t)}return Object.defineProperty(t.prototype,"Maps",{get:function(){return this._maps},enumerable:!0,configurable:!0}),t.prototype.addList=function(t){for(var e,n=t.length,o=0;n>o;o++)e=t[o],this.add(e.key,e.data)},t.prototype.addNumberKey=function(t,e){null==this._maps[t]&&this._count++,this._maps[t]=e},t.prototype.getNumberKey=function(t){return this._maps[t]},t.prototype.addStringKey=function(t,e){null==this._maps[t]&&this._count++,this._maps[t]=e},t.prototype.getStringKey=function(t){return this._maps[t]},t.prototype.add=function(t,e){if("object"!=typeof t)null==this._maps[t]&&this._count++,this._maps[t]=e;else{var n=this._objKeys.lastIndexOf(t);-1==n?(this._objKeys.push(t),this._objDatum.push(e),this._count++):this._objDatum[n]=e}},t.prototype.remove=function(t){var e;"object"!=typeof t?null!=this._maps[t]&&(delete this._maps[t],this._count--):(e=this._objKeys.lastIndexOf(t),-1!=e&&(this._objKeys.splice(e,1),this._objDatum.splice(e,1),this._count--))},t.prototype.getValue=function(t){if("object"!=typeof t)return this._maps[t];var e=this._objKeys.lastIndexOf(t);return-1!=e?this._objDatum[e]:null},t.prototype.has=function(t){if("object"!=typeof t)return this._maps[t]?!0:!1;var e=this._objKeys.lastIndexOf(t);return-1!=e?!0:!1},Object.defineProperty(t.prototype,"count",{get:function(){return this._count},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){void 0===e&&(e=null);var n,o;for(n in this._maps)t.call(e,n,this._maps[n]);for(n in this._hashMaps)o=this._hashMaps[n],t.call(e,o[0],o[1]);for(var a=0;a<this._objKeys.length;a++){var r=this._objKeys[a];t.call(e,this._objKeys[a],this._objDatum[a]),r!=this._objKeys[a]&&a--}},Object.defineProperty(t.prototype,"elements",{get:function(){var t,e,n=[];for(t in this._maps)n.push({key:t,data:this._maps[t]});for(t in this._hashMaps)e=this._hashMaps[t],n.push({key:e[0],data:e[1]});for(var o=this._objKeys.length,a=0;o>a;a++)n.push({key:this._objKeys[a],data:this._objDatum[a]});return n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keys",{get:function(){var t,e=[];for(t in this._maps)e.push(t);for(t in this._hashMaps)e.push(this._hashMaps[t][0]);return e=e.concat(this._objKeys)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"datum",{get:function(){var t,e=[];for(t in this._maps)e.push(this._maps[t]);for(t in this._hashMaps)e.push(this._hashMaps[t][1]);return e=e.concat(this._objDatum)},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this._maps={},this._hashMaps={},this._objKeys.length=0,this._objDatum.length=0},t.prototype.dump=function(){var t,e;for(t in this._maps)console.log("key:",t,"---> data:",this._maps[t]);for(t in this._hashMaps)e=this._hashMaps[t],console.log("key:",e[0],"---> data:",e[1]);for(var n=this._objKeys.length,o=0;n>o;o++)console.log("key:",typeof this._objKeys[o]," ---> data:",this._objDatum[o])},t.prototype.getValueByIndex=function(t){return this.datum[t]},t}();n["default"]=o},{}],46:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.String2Bytes=function(t){for(var e=[],n=0,o=0;o<t.length;o++){var a=t.charCodeAt(o);a>=0&&127>=a?(n+=1,e.push(a)):a>=128&&2047>=a?(n+=2,e.push(192|31&a>>6),e.push(128|63&a)):(a>=2048&&55295>=a||a>=57344&&65535>=a)&&(n+=3,e.push(224|15&a>>12),e.push(128|63&a>>6),e.push(128|63&a))}var r=new Uint8Array(e.length);for(o=0;o<e.length;o++)r[o]=255&e[o];return r},t.Bytes2String=function(t){for(var e="",n=0;n<t.length;n++){var o=t[n].toString(2),a=o.match(/^1+?(?=0)/);if(a&&8==o.length){for(var r=a[0].length,i=t[n].toString(2).slice(7-r),s=1;r>s;s++)i+=t[s+n].toString(2).slice(2);e+=String.fromCharCode(parseInt(i,2)),n+=r-1}else e+=String.fromCharCode(t[n])}return e},t}();n["default"]=o},{}],47:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){this.m_hashCode=t.hashCount++}return Object.defineProperty(t.prototype,"hashCode",{get:function(){var t=this.m_hashCode;return t},enumerable:!0,configurable:!0}),t.hashCount=0,t}();n["default"]=o},{}],48:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=laya.net.Loader,a=t("../SvenCode/SvenLibrary/SDK/Tool/Dictionary"),r=t("../../global/Global"),i=function(){function t(){this.sven_preload=new a["default"],this.sven_dynamicload=new a["default"]}return t.prototype.readJson=function(t){console.log(t);for(var e in t){var n=this[e];for(var o in t[e]){var a=new s(t[e][o],o);n.addStringKey(a.id,a)}}return console.log(this.sven_preload),this},t}();n["default"]=i;var s=function(){function t(t,e){this.vos=[],this.id=e,this.isLoading=!1;for(var n=0;n<t.length;n++){var o=new u(t[n],this);this.vos.push(o)}}return t}();n.UIAssetsVo=s;var u=function(){function t(t,e){switch(this.fatherVo=e,this.fileName=t.fileName,this.uiName=t.uiName,this.resName=t.resName,this.path=r["default"].localRes+t.path,this.resSuffix=this.resName.split(".")[1].toLowerCase(),this.resSuffix){case"fui":this.loaderType=o.BUFFER,this.fatherVo.fairGuiPackageKey=this.path.split(".")[0];break;case"jpg":case"png":this.loaderType=o.IMAGE;break;default:console.error("未找到匹配的 loaderType 类型 !!!!")}}return t}();n.UIAssetsChildVo=u},{"../../global/Global":6,"../SvenCode/SvenLibrary/SDK/Tool/Dictionary":45}],49:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var a,r=Laya.Scene,i=Laya.ClassUtils.regClass;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return o(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),this.loadScene("View/BattleScene")},e}(r);t.BattleSceneUI=e,i("ui.View.BattleSceneUI",e);var n=function(t){function e(){return t.call(this)||this}return o(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),this.loadScene("View/StartScene")},e}(r);t.StartSceneUI=n,i("ui.View.StartSceneUI",n)}(e=t.View||(t.View={}))}(a=n.ui||(n.ui={}))},{}]},{},[5]);